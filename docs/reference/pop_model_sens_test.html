<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Runs an OAT type of sensitivity analysis on the parameters in the JOEMODEL. It can handle multiple HUCs at the same time. The sensitivity is reported for both the baselie and the CE scenarios"><title>Population Model Sensitivity Test — pop_model_sens_test • JoeModelCE</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Population Model Sensitivity Test — pop_model_sens_test"><meta property="og:description" content="Runs an OAT type of sensitivity analysis on the parameters in the JOEMODEL. It can handle multiple HUCs at the same time. The sensitivity is reported for both the baselie and the CE scenarios"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">JoeModelCE</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/joe-model-batch-run.html">Joe Model Batch Run</a>
    <a class="dropdown-item" href="../articles/joe-model.html">Joe Model Overview</a>
    <a class="dropdown-item" href="../articles/population-model-batch-run.html">Population Model Batch Run</a>
    <a class="dropdown-item" href="../articles/population-model.html">Population Model Overview</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Population Model Sensitivity Test</h1>
      
      <div class="d-none name"><code>pop_model_sens_test.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Runs an OAT type of sensitivity analysis on the parameters in the JOEMODEL. It can handle multiple HUCs at the same time. The sensitivity is reported for both the baselie and the CE scenarios</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pop_model_sens_test</span><span class="op">(</span></span>
<span>  dir_in <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  dir_out <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  dose_file <span class="op">=</span> <span class="st">"stressor_response_fixed_ARTR.xlsx"</span>,</span>
<span>  sr_wb_dat <span class="op">=</span> <span class="st">"stressor_magnitude_unc_ARTR.xlsx"</span>,</span>
<span>  life_cycle_params <span class="op">=</span> <span class="st">"life_cycles.csv"</span>,</span>
<span>  HUC_ID <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  n_years <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  MC_sims <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  stressors <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  last_years <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  sens_perc_change <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  sens_param <span class="op">=</span> <span class="cn">NA</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>dir_in</dt>
<dd><p>Character path of the directory where the JOEMODEL input files live. Make sure that  the directory holds: 1) stressor response Excel file; 2) stressor magnitude Excel file; 3) life cycle parameters Excel file</p></dd>


<dt>dir_out</dt>
<dd><p>character path to the directory where new files will be saved</p></dd>


<dt>dose_file</dt>
<dd><p>A character that specified the name of the Excel filename (with extension .xlsx) of the stressor Response file (e.g."stressor_response_fixed_ARTR.xlsx")</p></dd>


<dt>sr_wb_dat</dt>
<dd><p>A character that specified the name of the Excel filename (with extension .xlsx) of the stressor magnitude file (e.g."stressor_magnitude_unc_ARTR.xlsx")</p></dd>


<dt>life_cycle_params</dt>
<dd><p>A character that specified the name of the Excel filename (with extension .xlsx) that folds the life cycle parameters (e.g."life_cycles.csv")</p></dd>


<dt>HUC_ID</dt>
<dd><p>a numeric vector that holds the IDs of the HUCs to be assessed</p></dd>


<dt>n_years</dt>
<dd><p>A numeric number that specifies hoe long should the JOEMODEL be run.If not specified, it will default to 300</p></dd>


<dt>MC_sims</dt>
<dd><p>A number that specified how many Monte Carlo (MC) simulations will be run for each HUC. Each MC run will sample from the stressor's distribution and return the corresponding mean system capacity. If not specified; it will default to 5</p></dd>


<dt>stressors</dt>
<dd><p>A character vector that holds the stressors that you want to include when running the sensitivity analysis. These stressors are common to ALL HUCs</p></dd>


<dt>last_years</dt>
<dd><p>A numeric that specifies the number of years prior to the last that you consider that the population reached stability in. If not specified; it will assume that the last 20% of your years were stable (e.g. if your n_years was set to 100; then the default stable years will be the last 20 years). The OAT sensitivity analysis will only consider the population in those last years</p></dd>


<dt>sens_perc_change</dt>
<dd><p>A numeric that specifies the percent change in the model parameters that the sensitivity analysis will be considered (e.g. specify 10 if you want to test how a 10 percent change in the parameters to be tested will impact the population in the defined stable years). YOU can specify -10 if you want to see how reducing the parameter by 10 percent will impact the stable populations. The function assumes the same percent change across all parameters.If not specified, it will default to 10 (percent)</p></dd>


<dt>sens_param</dt>
<dd><p>A character vector that specifies the JOEMODEL parameters that you would like to run the OAT sensitivity analysis on. Please report the Name and not the Parameter (e.g. report "Nstage: and not"Number of life stages"). If not specified; it will assume that you want to run it on all parameters EXCEPT Nstage and any parameter whose value in the life cycle parameters file was set to zero.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The function will return:</p><ul><li><p>SA: A list where each element holds the median sensitivities of the JOEMODEL both for the baseline and the CE runs for a given HUC. The list will have the same number of elements as your HUCs</p></li>
<li><p>life_cycles_sens_analysis_HUCXXXXXXXXXX  a set of .csv files. Each HUC will have its own .csv file. They will be saved in your dir_out</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://essatech.github.io/JoeModelCE/" class="external-link">JoeModelCE</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">SA</span> <span class="op">&lt;-</span> <span class="fu">PopulationModel_Run_Sen</span><span class="op">(</span>dir_in<span class="op">=</span><span class="st">"C:/JOEMODEL"</span>, dir_out<span class="op">=</span><span class="st">"C:/JOEMODEL/Results"</span>, dose_file <span class="op">=</span> <span class="st">"stressor_response_fixed_ARTR.xlsx"</span>,</span></span>
<span class="r-in"><span>                               sr_wb_dat <span class="op">=</span> <span class="st">"stressor_magnitude_unc_ARTR.xlsx"</span>, life_cycle_params <span class="op">=</span> <span class="st">"life_cycles.csv"</span>,</span></span>
<span class="r-in"><span>         HUC_ID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1701010201</span>, <span class="fl">1701010202</span><span class="op">)</span>, n_years <span class="op">=</span> <span class="fl">300</span>, MC_sims <span class="op">=</span> <span class="fl">5</span>, stressors <span class="op">=</span> <span class="cn">NA</span>, last_years<span class="op">=</span><span class="fl">20</span>,</span></span>
<span class="r-in"><span>        sens_perc_change<span class="op">=</span><span class="fl">10</span>, sens_param<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"k"</span>,<span class="st">"surv_1"</span>, <span class="st">"eps"</span>, <span class="st">"M.cv"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>        <span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Matthew Bayly.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

